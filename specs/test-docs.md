# gmacs テストドキュメント

このドキュメントはテストコードから自動抽出されたBDD仕様書です。

**生成日時:** 2025年06月18日 20:05:50

## 画面表示機能 (display/terminal_layout)

### TestActualDisplayIssue

**ファイル:** `test/actual_display_issue_test.go`

**シナリオ:** 余分な空行の回避

**説明:** 余分な空行が表示されたユーザー報告シナリオの正確なテスト

**前提:** 12行のターミナル（ユーザーの報告環境）

**操作:** 文字a〜dをそれぞれEnterで区切って入力する

**結果:** 余分な空白なしで実際のコンテンツ行のみがレンダリングされる

**実装ファイル:** `cli/display.go`, `test/mock_display.go`

**バグ修正:** height-2 vs height-3の不整合と無条件改行出力を修正

---

## スクロール機能 (scroll/scroll_timing)

### TestTerminal12LinesScenario

**ファイル:** `test/terminal_12_lines_test.go`

**シナリオ:** 早すぎるスクロールの回避

**説明:** コンテンツがウィンドウコンテンツエリアを真に超えるまでスクロールが発生しないことをテスト

**前提:** 12行のターミナル（10コンテンツ + モード + ミニ）

**操作:** 文字a〜jをそれぞれEnterで区切って入力する

**結果:** すべての10行がスクロールなしで表示される

**実装ファイル:** `domain/scroll.go`, `cli/display.go`

---

### TestTerminal12LinesDebugSteps

**ファイル:** `test/terminal_12_lines_test.go`

**シナリオ:** コンテンツがウィンドウを超えた時のスクロール

**説明:** スクロール動作をステップごとに検証するデバッグテスト

**前提:** 12行のコンテンツエリアを持つターミナル

**操作:** コンテンツエリア限界を超えて一行ずつ追加する

**結果:** 適切なタイミングでスクロールが発生する

**実装ファイル:** `domain/scroll.go`, `cli/display.go`

---

*このドキュメントは自動生成されています。修正はテストファイルのアノテーションを編集してください。*
