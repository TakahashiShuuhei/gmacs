# テキスト挿入機能のテストガイド

## テスト手順

1. `./build/gmacs` を実行
2. 以下の文字を入力してテスト:

### ASCII文字のテスト
- 英数字: `Hello123`
- 記号: `!@#$%^&*()`

### 日本語文字のテスト（**IME対応修正済み**）
- ひらがな: `こんにちは`
- カタカナ: `コンニチハ`
- 漢字: `今日は良い天気`
- 混合: `Hello世界！123`

### IME複数文字入力のテスト
- 一度に変換: `あいうえお` → カーソルが正しく末尾に移動するか確認
- 長い文章: `今日はとても良い天気です` → 複数文字が正しく挿入されるか確認

### 特殊文字のテスト
- 絵文字: `😀🎉🚀`
- その他Unicode: `αβγδε`

## 期待される動作
- 文字がバッファに挿入される
- **IMEからの複数文字入力でもカーソルが正しい位置に移動する**
- 画面に文字が表示される
- `M-x self-insert-command` で単一文字手動実行も可能
- `M-x insert-string` で文字列手動実行も可能

## 修正内容
- `InsertString`メソッドの追加でIME複数文字入力に対応
- UTF-8 rune単位でのカーソル位置計算
- フォールバックモードでの複数文字入力処理改善

## 注意点
- ターミナルのUTF-8サポートが必要
- 日本語入力はIMEを使用
- Raw modeでは1文字ずつ、fallback modeでは文字列単位で処理