# 矢印キー機能のテストガイド

## テスト手順

1. `./build/gmacs` を実行
2. 以下のキーを試してテスト:

### 矢印キーのテスト
- **↑ (上矢印)**: カーソルが上の行に移動 (previous-line)
- **↓ (下矢印)**: カーソルが下の行に移動 (next-line)
- **→ (右矢印)**: カーソルが右に移動 (forward-char)
- **← (左矢印)**: カーソルが左に移動 (backward-char)

### Ctrl+キーのテスト（比較用）
- **C-p**: 上移動 (same as ↑)
- **C-n**: 下移動 (same as ↓)
- **C-f**: 右移動 (same as →)
- **C-b**: 左移動 (same as ←)

## 期待される動作

### 修正前（問題）
- ↑ → 「A」が挿入される
- ↓ → 「B」が挿入される  
- → → 「C」が挿入される
- ← → 「D」が挿入される

### 修正後（期待される動作）
- ↑ → カーソルが上の行に移動
- ↓ → カーソルが下の行に移動
- → → カーソルが右に移動  
- ← → カーソルが左に移動

## テストシナリオ

1. **初期状態**: テキストを入力してマルチライン作成
   ```
   Hello World
   こんにちは世界
   Line 3
   ```

2. **矢印キーテスト**: 各方向に移動してカーソルが正しく動くことを確認

3. **混在テスト**: Ctrl+キーと矢印キーが同じ動作をすることを確認

## 技術的修正内容
- ESC[A/B/C/D シーケンスの正確な検出
- Alt+キーと矢印キーの適切な区別
- ANSI エスケープシーケンスの完全な解析